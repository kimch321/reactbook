<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>불변성</title>
</head>
<body>
<script>
  // 함수형 프로그래밍에선 데이터가 변할 수 없다.
  // 불변성 데이터는 결코 바뀌어선 안된다.
  // 원본 데이터 구조를 변경하는 대신 그 데이터 구조의 복사본을 만들되 그중 일부를 변경한다.
  // 원본 대신 변경한 복사본을 사용해 필요한 작업을 진행한다.
  let clear = () => console.clear()
  let log = (m) => console.log(m)
  let color_lawn ={
      title: "잔디",
      color : "#00ff00",
      rating:0
  }
  // function rateColor(color,rating) {
  //     color.rating=rating;
  //     return color;
  // }

  // console.log(rateColor(color_lawn,5).rating);
  // console.log(color_lawn);

  // 이렇게 원본 객체의 데이터를 바꾸는 것은 좋은 방법이 절대 아니다.

  const rateColor = (color,rating) => ({
      ...color,
      rating
  })

  console.log(rateColor(color_lawn,5).rating)
  console.log(color_lawn.rating)
  clear();


  let list = [
      {title:"과격한 빨강"},
      {title:"잔디"},
      {title:"파티 핑크"}
  ]

  // Array.push는 불변성 함수가 아니다.
  const addColor = function(title, colors) {
      colors.push({title:title});
      return colors;
  }
  console.log(addColor("화려한 녹색",list));
  console.log(list)
  clear()

  const addColor2 = (title,array) => array.concat({title:title});

  log(addColor2("화려한 녹색2",list))
  log(list)
  clear()
  // 다른 방법
  const addColor3 = (title,list) => [...list, {title}];
  log(addColor3("화려한 녹색3",list));
  log(list)
  clear()



</script>

</body>
</html>